#configs - edit them to your liking
DEV_ROOT=~/Projects
MUSIC_URL="https://music.youtube.com/playlist?list=PLY_FQXauSxlCyhLLYaOrxIX_4IlQ-wxIJ"


#general shortcuts
alias dev="cd $DEV_ROOT"
alias milord="nano ~/.milord_aliases"
alias milord-update="cp ~/.milord_aliases $DEV_ROOT/MilordShortcuts/.milord_aliases"
function refreshenv()
{
    if [ -n "`$SHELL -c 'echo $ZSH_VERSION'`" ]; then
       source ~/.zshrc
    elif [ -n "`$SHELL -c 'echo $BASH_VERSION'`" ]; then
       source ~/.bashrc
    else
       echo "Looks like .milord_aliases is not compatible with your shell environment"
       echo "Feel free to make a pull request!"
    fi
}

#docker
alias dope="docker-compose"
alias doperr="docker-compose ps | grep Exit | xargs sh -c \"docker-compose up -d || true\""

#amazon aws cli tool
alias atest="eval $(aws ecr get-login --no-include-email --region us-west-2)"

#sublime text update completions
alias subl-update="cp -r $DEV_ROOT/MilordShortcuts/sublimetext/* ~/.config/sublime-text-3/Packages/User"

#fun stuff
alias music="chromium $MUSIC_URL &"

#git command shortcuts
alias stats="git status"
alias adal="git add ."
alias ginit="git init"
alias pull="git pull"
alias push="git push"
alias glog="git log"
alias chout="git checkout"
alias gitmit="git commit -m"

function gitall-branches() #Created by Greg Ruane
{
    # subshell to revert cd
    (
        output=()
        for subdir in $(find $DEV_ROOT -maxdepth 2 -type d | sort); do
            if [ -L "$subdir" ]; then
                continue
            fi

            # git submodules use a file, standalones use a dir
            if [ -f "$subdir/.git" ] || [ -d "$subdir/.git" ]; then
                branch="[$(cd "$subdir"; git  branch | grep '^\*' | cut -d' ' -f2)]"
                # printf "%-30s %-30s\n" $(basename $subdir) $branch
                line=$(printf "%-30s %-30s\n" $(basename $subdir) $branch)
                output+=$line
                echo "$line"
            fi
        done
    )
}
